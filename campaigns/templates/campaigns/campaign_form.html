{% extends "base.html" %}

{% block title %}Create campaign{% endblock %}

{% block content %}
  <div class="card bg-base-100 max-w-3xl">
    <div class="card-body">
      <h1 class="text-3xl font-bold mb-2">Create campaign</h1>
      <form method="post" class="space-y-3">
        {% csrf_token %}

        <label class="form-control">
          <div class="label"><span class="label-text">Title</span></div>
          <input class="input input-bordered" name="title" required />
        </label>

        <label class="form-control">
          <div class="label"><span class="label-text">Image URL (optional)</span></div>
          <input class="input input-bordered" name="image_url" type="url" placeholder="https://..." />
        </label>

        <label class="form-control">
          <div class="label"><span class="label-text">Description</span></div>
          <textarea class="textarea textarea-bordered" name="description" rows="6" required></textarea>
        </label>

        <label class="form-control">
          <div class="label"><span class="label-text">Goal amount (VND)</span></div>
          <input class="input input-bordered" name="goal_amount" type="number" step="1000" min="1000" required />
        </label>

        <label class="form-control">
          <div class="label"><span class="label-text">End date</span></div>
          <input class="input input-bordered" name="end_date" type="date" min="{{ today|date:'Y-m-d' }}" required />
          <div class="label"><span class="label-text-alt">Must be today or later</span></div>
        </label>

        <label class="form-control">
          <div class="label"><span class="label-text">Categories</span></div>
          <select class="select select-bordered" name="categories" multiple>
            {% for c in categories %}
              <option value="{{ c.id }}">{{ c.name }}</option>
            {% endfor %}
          </select>
          <div class="label"><span class="label-text-alt">Hold Ctrl/Command to select multiple. If you don't see any, add new ones below.</span></div>
        </label>

        <label class="form-control">
          <div class="label"><span class="label-text">New categories (optional)</span></div>
          <input class="input input-bordered" name="categories_text" placeholder="e.g. Education, Medical" />
          <div class="label"><span class="label-text-alt">Comma-separated. We'll create these categories for you.</span></div>
        </label>

        <label class="form-control">
          <div class="label"><span class="label-text">Tags (optional)</span></div>
          <input class="input input-bordered" name="tags" placeholder="e.g. medical, education, emergency" />
          <div class="label"><span class="label-text-alt">Comma-separated</span></div>
        </label>

        <div class="card-actions justify-end">
          <button class="btn btn-primary" type="submit">Create</button>
          <a class="btn btn-ghost" href="/">Cancel</a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
